<!DOCTYPE HTML>
<!--
	Eventually by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->

<script>
	function showAstroForm() {
		let selectBox = document.getElementById("selection");
		let userInput = selectBox[selectBox.selectedIndex].value;
		console.log(userInput);
		document.getElementById("shipmentFind").style.display = "none";
		document.getElementById("shipmentFindDeparted").style.display = "none";
		document.getElementById("reqAssistance").style.display = "none";
		document.getElementById("insertReservation").style.display = "none";
		if (userInput === "Find Shipment") {
			document.getElementById("shipmentFind").style.display = "flex";
		} else if (userInput === "Find Departed Shipment") {
			document.getElementById("shipmentFindDeparted").style.display = "flex";
		} else if (userInput === "Find Passenger Require Assistance") {
			document.getElementById("reqAssistance").style.display = "flex";
		} else if (userInput === "Insert Reservation") {
			document.getElementById("insertReservation").style.display = "flex";
		}
	}
</script>
<html>
	<head>
		<title>MSPA</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/tables.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<!-- <header id="header">
				<h1>Mars Space Port Administration</h1>
				<p>Brought to you by Elon Musk.</p>
			</header> -->

		<!-- Side nav bar -->
			<% include partials/sidebar %>

		<!-- Query Form and result-->
			<div class="panel panel-transparent">
				<div class="panel-heading">

					<!-- Company Table Forms -->
					<div>
						<select id="selection" class="selectpicker" data-style="btn-info" name="selectpicker" onchange="return showAstroForm()">
				   			<optgroup label="Select Action">
					   			<option name="" value="0">Select Action</option>
					  			<option name="Find Shipment" value="Find Shipment">Find Shipment</option>
					   			<option name="Find Departed Shipment" value="Find Departed Shipment">Find Departed Shipment</option>
					   			<option name="Find Passenger Require Assistance" value="Find Passenger Require Assistance">Find Passenger Require Assistance</option>
					   			<option name="Insert Reservation" value="Insert Reservation">Insert Reservation</option>
				   			</optgroup>
			  			</select>
					</div>
					
					<!-- Shipment Find -->
					<form id="shipmentFind" method="post" action="shipment" style="display: none">
						<input type="text" pattern="[0-9]{0,100}" name="invoice" id="invoice" placeholder="InvoiceNum" />
						<input type="submit" />
					</form>
				
					<!-- Shipment Find Departed -->
					<form id="shipmentFindDeparted" method="post" action="shipmentDeparted" style="display: none">
						<input type="text" pattern="[0-9]{0,100}" name="companyID" id="companyID" placeholder="CompanyID" />
						<input type="submit" />
					</form>

					<!-- Find RequireAssistance -->
					<form id="reqAssistance" method="post" action="reqAssistance" style="display: none">
							<input type="text" pattern="[0-9]{0,100}" name="InvoiceNum" id="InvoiceNum" placeholder="InvoiceNum" />
							<input type="submit" />
					</form>
					
					<!-- Insert Reservation -->
					<form id="insertReservation" method="post" action="insertReservation" style="display: none">
							<input type="text" pattern="[0-9]{0,100}" name="ReserveID" id="ReserveID" placeholder="ReserveID" />
							<input type="text" name="reqDate" id="reqDate" placeholder="Requested Date" />
							<input type="text" name="location" id="location" placeholder="Location" />
							<input type="text" pattern="[0-9]{0,100}" name="portNum" id="portNum" placeholder="Port Number" />
							<input type="text" name="startDate" id="startDate" placeholder="Start Date" />
							<input type="text" name="endDate" id="endDate" placeholder="End Date" />
							<input type="text" name="startTime" id="startTime" placeholder="Start Time" />
							<input type="text" name="endTime" id="endTime" placeholder="End Time" />
						<input type="submit" />
					</form>

				</div>
			
			<div id="result">
			<table class="table">
				<tr>
					<% if (table.length > 0) {
						let tableHeadings = Object.keys(table[0]);
					for(let head of tableHeadings) { %>
						<td><%= head %></td>
					<% } %>
					<td>&nbsp;</td>
				</tr>
			<% for(var i=0; i < table.length; i++) { %>
   			<tr>
			<% for (let cell of tableHeadings) { %>
				<td><%= table[i][cell] %></td>
			<% } }%>
   			</tr>
			<% } %>
			</table>
			
			</div>
			</div>
		<!-- Footer
			<footer id="footer">
				<ul class="icons">
					<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="#" class="icon fa-github"><span class="label">GitHub</span></a></li>
					<li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; Untitled.</li><li>Credits: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</footer> -->

		<!-- Scripts -->
			<script src="assets/js/main.js"></script>

	</body>
</html>
