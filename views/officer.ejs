<!DOCTYPE HTML>
<!--
	Eventually by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->

<script>
	function showAstroForm() {
		let selectBox = document.getElementById("astroSelect");
		let userInput = selectBox[selectBox.selectedIndex].value;
		document.getElementById("astroFind").style.visibility = "hidden";
		document.getElementById("astroInsert").style.visibility = "hidden";
		document.getElementById("astroUpdate").style.visibility = "hidden";
		if (userInput === "Find") {
			document.getElementById("astroFind").style.visibility = "visible";
		} else if (userInput === "Update") {
			document.getElementById("astroUpdate").style.visibility = "visible";
		} else if (userInput === "Insert") {
			document.getElementById("astroInsert").style.visibility = "visible";
		}
	}

</script>
<html>
	<head>
		<title>MSPA</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/tables.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<!-- <header id="header">
				<h1>Mars Space Port Administration</h1>
				<p>Brought to you by Elon Musk.</p>
			</header> -->

		<!-- Side nav bar -->
			<ul class="nav nav-pills nav-stacked navbar-fixed-top">

				<!-- Astronaut: Find, Insert, Update, Delete -->
				<li role="presentation">
					<a href="#">
						<form method="post" action="astro">
							<button id="hidden-form">Astronaut</button>
							<input type="hidden" name="" id="">
						</form>
					</a>
				</li>

				<!-- Company: Find (Crew names, AstroIDs), Find(aggregate cargo value), Find (Rocket by company), Find (Rocket by weight) -->
				<li role="presentation">
					<a href="#">
						<form method="post" action="company">
							<button id="hidden-form">Company</button>
							<input type="hidden" name="" id="">
						</form>
					</a>
				</li>

				<!-- Shipment: Find (shipment), Find (departed Shipments), Insert (Reservation), Find (require assistance, invoice) -->
				<li role="presentation">
					<a href="#">
						<form method="post" action="shipment">
							<button id="hidden-form">Shipment</button>
							<input type="hidden">
						</form>
					</a>
				</li>
				
			</ul>

		<!-- Query Form and result-->
			<div class="panel panel-transparent">
				<div class="panel-heading">

					<!-- Astronaut Table Forms -->
					<div>
						
						<select id="astroSelect" class="selectpicker" data-style="btn-info" name="selectpicker" onchange="return showAstroForm()">
				   			<optgroup label="Select Action">
					   			<option name="" value="0">Select Action</option>
					  			<option name="Find" value="Find">Find</option>
					   			<option name="Update" value="Update">Update</option>
					   			<option name="Insert" value="Insert">Insert</option>
				   			</optgroup>
			  			</select>
					</div>
					
					<!-- Astronaut Find -->
					<form id="astroFind" method="post" action="astro" style="visibility: hidden;">
						<input type="text" pattern="[0-9]{0,100}" name="AstroID" id="AstroID" placeholder="AstroID" />
						<input type="text" name="Name" id="Name" placeholder="Name" />
						<input type="submit" />
					</form>
				
					<!-- Astronaut Update -->
					<form id="astroUpdate" method="post" action="astroUpdate" style="visibility: hidden;">
						<input type="text" pattern="[0-9]{0,100}" name="AstroID" id="AstroID" placeholder="AstroID" />
						<input type="text" name="NewName" id="NewName" placeholder="New Name" />
						<input type="submit" />
					</form>

					<!-- Astronaut Insert -->
					<form id="astroInsert" method="post" action="astroInsert" style="visibility: hidden;">
						<input type="text" pattern="[0-9]{0,100}" name="AstroID" id="AstroID" placeholder="AstroID" />
						<input type="text" name="Name" id="Name" placeholder="Name" />
						<input type="submit" />
					</form>

				</div>
			
			<div id="result">
			<table class="table">
				<tr>
					<% let tableHeadings = Object.keys(table[0]);
					for(let head of tableHeadings) { %>
						<td><%= head %></td>
					<% } %>
					<td>&nbsp;</td>
				</tr>

			<% for(var i=0; i < table.length; i++) { %>
   			<tr>
			<% for (let cell of tableHeadings) { %>
				<td><%= table[i][cell] %></td>
			<% } %>
			<td><a href="#"><form method="post" action="deleteAstro">
			<input type="hidden" name="AstroID" id="AstroID" value=<%= table[i].AstroID %>>
			<button id="hidden-form">delete</button></form></a></td>
   			</tr>
			<% } %>
			</table>
			
			</div>
			</div>
		<!-- Footer
			<footer id="footer">
				<ul class="icons">
					<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
					<li><a href="#" class="icon fa-github"><span class="label">GitHub</span></a></li>
					<li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
				</ul>
				<ul class="copyright">
					<li>&copy; Untitled.</li><li>Credits: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</footer> -->

		<!-- Scripts -->
			<script src="assets/js/main.js"></script>

	</body>
</html>
